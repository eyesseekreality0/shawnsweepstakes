<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ShawnSweeps</title>
  <style>
    /* === Reset & Scroll === */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body, html {
      width: 100%;
      min-height: 100vh;
      overflow-x: hidden;
      overflow-y: auto;
      font-family: Arial, sans-serif;
      color: white;
      position: relative;
    }

    /* === Video Background === */
    #bg-video {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -2;
    }
    .video-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
      z-index: -1;
    }

    /* === Header & Logo === */
    header {
      margin-top: 30px;
      margin-bottom: 30px;
      text-align: center;
      z-index: 10;
      position: relative;
    }
    header img {
      width: 220px;
      filter: drop-shadow(0 0 10px rgba(250, 10, 10, 0.6));
    }

    /* === Deposit Button === */
    .deposit-top {
      display: block;
      width: 90%;
      max-width: 400px;
      margin: 0 auto 40px auto;
      padding: 16px;
      background: #fa0a0a;
      color: white;
      border: none;
      border-radius: 12px;
      font-weight: bold;
      font-size: 17px;
      cursor: pointer;
      box-shadow: 0 6px 15px rgba(250, 10, 10, 0.4);
      transition: 0.3s;
      z-index: 10;
      position: relative;
    }
    .deposit-top:hover {
      background: #e00909;
      transform: translateY(-2px);
    }

    /* === Game Grid === */
    #games {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 25px;
      max-width: 1200px;
      margin: 0 auto 60px;
      padding: 0 15px;
      position: relative;
      z-index: 10;
    }
    @media (max-width: 1024px) {
      #games {
        grid-template-columns: repeat(3, 1fr);
      }
    }
    @media (max-width: 500px) {
      #games {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    /* === Game Card (Round) === */
    .game-card {
      position: relative;
      width: 100%;
      padding-bottom: 100%;
      border-radius: 50%;
      overflow: hidden;
      box-shadow: 0 6px 15px rgba(0,0,0,0.5);
      transition: all 0.3s;
    }
    .game-card::before {
      content: '';
      position: absolute;
      inset: -6px;
      background: linear-gradient(45deg, #fa0a0a, #ff8c00);
      border-radius: 50%;
      z-index: -1;
    }
    .game-card img {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 50%;
    }
    .game-card:hover {
      transform: scale(1.1);
      box-shadow: 0 0 25px rgba(250, 10, 10, 0.6);
    }

    /* === Modal === */
    #depositModal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.95);
      z-index: 1000;
      justify-content: center;
      align-items: center;
    }
    .modal-content {
      background: #111;
      padding: 30px;
      border-radius: 14px;
      width: 90%;
      max-width: 500px;
      color: white;
      border: 1px solid #fa0a0a;
      box-shadow: 0 0 30px rgba(250, 10, 10, 0.3);
    }
    .close-btn {
      position: absolute;
      top: 15px;
      right: 20px;
      font-size: 24px;
      color: #ccc;
      cursor: pointer;
    }
    .close-btn:hover {
      color: white;
    }
    h2 {
      margin-bottom: 20px;
      font-size: 22px;
      color: #fa0a0a;
      text-align: center;
    }
    label {
      display: block;
      text-align: left;
      margin: 15px 0 5px;
      font-weight: bold;
      color: #ddd;
    }
    input, select {
      width: 100%;
      padding: 10px;
      background: #222;
      border: 1px solid #444;
      color: white;
      border-radius: 6px;
      font-size: 14px;
    }
    button[type="submit"] {
      margin-top: 20px;
      padding: 14px;
      background: #fa0a0a;
      color: white;
      border: none;
      width: 100%;
      font-weight: bold;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
    }
    button[type="submit"]:hover {
      background: #e00909;
    }
  </style>
</head>
<body>

  <!-- Video Background -->
  <video id="bg-video"
         src="https://shawn-sweepstakes.carrd.co/assets/videos/bg.mp4?v=0c91e9dc"
         poster="https://shawn-sweepstakes.carrd.co/assets/videos/bg.mp4.jpg?v=0c91e9dc"
         autoplay
         preload="auto"
         loop
         playsinline
         disablepictureinpicture
         disableremoteplayback
         webkit-playsinline
         muted>
  </video>
  <div class="video-overlay"></div>

  <!-- Header -->
  <header>
    <img src="https://shawn-sweepstakes.carrd.co/assets/images/image03.png?v=0c91e9dc" alt="ShawnSweeps Logo">
  </header>

  <!-- Single Deposit Button -->
  <button class="deposit-top" id="buy-button">
    Make a Deposit
  </button>
  
<script>
  // Open the modal when "Make a Deposit" is clicked
  document.getElementById('buy-button').onclick = function () {
    document.getElementById('depositModal').style.display = 'flex';
  };
</script>
  
  <!-- Game Grid -->
  <section id="games">
    <!-- Games will be injected here -->
  </section>

  <!-- Deposit Modal -->
  <div id="depositModal">
    <div class="modal-content">
      <button class="close-btn" onclick="document.getElementById('depositModal').style.display='none'">&times;</button>
      <h2>Deposit Funds</h2>
      <form id="depositForm">
        <label>Name</label>
        <input type="text" name="name" required>

        <label>Email</label>
        <input type="email" name="email" required>

        <label>Phone</label>
        <input type="tel" name="phone">

        <label>Game</label>
        <select name="game" required></select>

        <label>Username (In-Game)</label>
        <input type="text" name="username" required>

        <label>Deposit Amount ($)</label>
        <input type="number" name="amount" value="10" min="5" required>

        <button type="submit">Make Deposit</button>
      </form>
    </div>
  </div>

  <!-- Load Wert.io SDK -->
  <script
    type="text/javascript"
    src="https://unpkg.com/@wert-io/widget-initializer@6.6.0/dist/index.umd.js"
    async
    defer
  ></script>

  <!-- Game Data & Logic -->
  <script>
    // === Your Games Data ===
    const games = [
      {
        id: "megaspinsweeps",
        name: "Mega Spin Sweeps",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/85307f95.jpg?v=0c91e9dc",
        gameUrl: "http://www.megaspinsweeps.com/index.html"
      },
      {
        id: "vblink777",
        name: "VBLink777",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/753a32c3.jpg?v=0c91e9dc",
        gameUrl: "https://www.vblink777.club/"
      },
      {
        id: "goldentreasure",
        name: "Golden Treasure",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/7c9b03e5.jpg?v=0c91e9dc",
        gameUrl: "https://www.goldentreasure.mobi/"
      },
      {
        id: "orionstars",
        name: "Orion Stars",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/417aedb1.png?v=0c91e9dc",
        gameUrl: "http://start.orionstars.vip:8580/index.html"
      },
      {
        id: "firekirin",
        name: "Fire Kirin",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/189aadee.jpg?v=0c91e9dc",
        gameUrl: "http://start.firekirin.xyz:8580/index.html"
      },
      {
        id: "rivermonster",
        name: "River Monster",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/253c9f08.jpg?v=0c91e9dc",
        gameUrl: "https://rm777.net/"
      },
      {
        id: "riversweeps",
        name: "Riversweeps",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/597c1510.jpg?v=0c91e9dc",
        gameUrl: "https://bet777.eu/"
      },
      {
        id: "fortune2go",
        name: "Fortune 2 Go",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/d1498abc.jpg?v=0c91e9dc",
        gameUrl: "https://www.fortune2go20.com/mobile/Login/index.html"
      },
      {
        id: "goldendragon",
        name: "Golden Dragon",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/de5f04bc.jpg?v=0c91e9dc",
        gameUrl: "https://playgd.mobi/SSLobby/3733.0/web-mobile/index.html"
      },
      {
        id: "bludragon",
        name: "Blu Dragon",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/faeeb77b.png?v=0c91e9dc",
        gameUrl: "http://app.bluedragon777.com/"
      },
      {
        id: "vegasx",
        name: "VEGAS X",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/1e472144.jpg?v=0c91e9dc",
        gameUrl: "https://vegas-x.org/"
      },
      {
        id: "ultrapanda",
        name: "ULTRAPANDA",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/ad5dd9c6.jpg?v=0c91e9dc",
        gameUrl: "https://www.ultrapanda.mobi/"
      },
      {
        id: "milkyways",
        name: "MILKY WAYS",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/2bc0a981.jpg?v=0c91e9dc",
        gameUrl: "https://milkywayapp.xyz/"
      },
      {
        id: "luckypenny",
        name: "LUCKY PENNY",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/9b984f9c.jpg?v=0c91e9dc",
        gameUrl: "http://luckypenny.xyz:8580/index.html"
      },
      {
        id: "gametime",
        name: "Gametime",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/85307f95.jpg?v=0c91e9dc",
        gameUrl: "http://game-time.vip:8580/index.html"
      },
      {
        id: "goldstar",
        name: "Gold Star",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/74eb627d.jpg?v=0c91e9dc",
        gameUrl: "https://goldstar.games/"
      },
      {
        id: "100plus",
        name: "100 Plus",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/e00a2881.jpg?v=0c91e9dc",
        gameUrl: "https://99.100plus.me/lobby/1684487595/index.html?agreement=1&/player/release/"
      },
      {
        id: "gamevault",
        name: "Gamevault",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/050dac4a.jpg?v=0c91e9dc",
        gameUrl: "https://download.gamevault999.com/"
      },
      {
        id: "galaxyworld",
        name: "Galaxy World",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/1f44c7e1.png?v=0c91e9dc",
        gameUrl: "https://m.galaxyworld999.com/"
      },
      {
        id: "magiccity",
        name: "Magic City",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/71d5fc8f.jpg?v=0c91e9dc",
        gameUrl: "https://www.magiccity777.com/SSLobby/3657.0/web-mobile/index.html"
      },
      {
        id: "highstake",
        name: "High Stake Sweeps",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/e1d3a0f7.jpg?v=0c91e9dc",
        gameUrl: "https://dl.highstakesweeps.com/"
      },
      {
        id: "sincity",
        name: "Sin City",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/98333b44.jpg?v=0c91e9dc",
        gameUrl: "https://sincitysweeps.net/"
      },
      {
        id: "vegassweeps",
        name: "Vegas Sweeps",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/bd38d36f.jpg?v=0c91e9dc",
        gameUrl: "https://m.lasvegassweeps.com/"
      },
      {
        id: "ignite",
        name: "IGNITE",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/3603f518.png?v=0c91e9dc",
        gameUrl: "https://casinoignite.vip/"
      },
      {
        id: "cashfrenzy",
        name: "Cashapp Frenzy",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/a67374ce.jpg?v=0c91e9dc",
        gameUrl: "https://www.cashfrenzy777.com/"
      },
      {
        id: "acebook",
        name: "ACEBOOK",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/09e14951.jpg?v=0c91e9dc",
        gameUrl: "https://www.playacebook.mobi/"
      },
      {
        id: "bluedragon2",
        name: "Blue Dragon 2",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/637eb5ee.png?v=0c91e9dc",
        gameUrl: "http://app.getbluedragon.com/"
      },
      {
        id: "juwa777",
        name: "Juwa777",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/bebb5d9e.jpg?v=0c91e9dc",
        gameUrl: "https://dl.juwa777.com/"
      },
      {
        id: "pandamaster",
        name: "Panda Master",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/0b6843e0.jpg?v=0c91e9dc",
        gameUrl: "https://pandamaster.vip:8888/index.html"
      },
      {
        id: "fishglory",
        name: "Fish Glory",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/346fd5a6.jpg?v=0c91e9dc",
        gameUrl: "https://www.fishglory.games/"
      },
      {
        id: "vegasroll",
        name: "Vegas Roll",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/7867671f.jpg?v=0c91e9dc",
        gameUrl: "http://www.vegas-roll.com/m"
      },
      {
        id: "mrallinone",
        name: "Mr All In One",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/d6f9845f.jpg?v=0c91e9dc",
        gameUrl: "https://www.mrallinone777.com/m"
      },
      {
        id: "orionpower",
        name: "ORION Power",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/6c415d9a.jpg?v=0c91e9dc",
        gameUrl: "http://product.orionpower.games/v1001/"
      },
      {
        id: "quakegame",
        name: "Quake Game",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/0c63b506.jpg?v=0c91e9dc",
        gameUrl: "https://www.quakegame.net/"
      },
      {
        id: "vegasluck777",
        name: "Vegas Luck 777",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/961ffa7e.jpg?v=0c91e9dc",
        gameUrl: "https://start.vegasluck777.com/"
      },
      {
        id: "noble777",
        name: "Noble 777",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/21cf31e9.jpg?v=0c91e9dc",
        gameUrl: "https://www.noble777.com/m"
      },
      {
        id: "cashmachine777",
        name: "Cash Machine 777",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/d68e85e8.jpg?v=0c91e9dc",
        gameUrl: "https://www.cashmachine777.com/m"
      },
      {
        id: "gameroom777",
        name: "Game Room 777",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/92bca02e.jpg?v=0c91e9dc",
        gameUrl: "https://www.gameroom777.com/m"
      },
      {
        id: "luckystars",
        name: "Lucky Stars",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/990e95bf.jpg?v=0c91e9dc",
        gameUrl: "http://www.luckystars.games/m"
      },
      {
        id: "slots88888",
        name: "Slots 88888",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/035f8253.jpg?v=0c91e9dc",
        gameUrl: "https://www.slots88888.com/m"
      },
      {
        id: "winstar99999",
        name: "Win Star 99999",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/b48ed188.jpg?v=0c91e9dc",
        gameUrl: "http://server.winstar99999.com:8009/m"
      },
      {
        id: "mafia77777",
        name: "Mafia 77777",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/a3830c1f.jpg?v=0c91e9dc",
        gameUrl: "http://product.mafia77777.com/v1003/"
      },
      {
        id: "yolo777",
        name: "YOLO 777",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/e1b31467.jpg?v=0c91e9dc",
        gameUrl: "https://yolo777.game/"
      },
      {
        id: "fpc",
        name: "FPC Mobile",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/2eb63b4e.png?v=0c91e9dc",
        gameUrl: "https://fpc-mob.com/AD/index.html"
      },
      {
        id: "winnersclub777",
        name: "Winners Club 777",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/a9e0fca0.jpg?v=0c91e9dc",
        gameUrl: "https://www.winnersclub777.com/"
      },
      {
        id: "legendfire",
        name: "Legend Fire",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/8b67f370.jpg?v=0c91e9dc",
        gameUrl: "https://www.legendfire.xyz/"
      },
      {
        id: "firelinkplus",
        name: "Fire Link Plus",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/f592d30c.jpg?v=0c91e9dc",
        gameUrl: "https://firelinkplus.com/"
      },
      {
        id: "blackmamba",
        name: "Black Mamba",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/b99b4435.jpg?v=0c91e9dc",
        gameUrl: "https://blackmamba.mobi/"
      },
      {
        id: "playorca",
        name: "Play Orca",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/a281d47e.jpg?v=0c91e9dc",
        gameUrl: "https://playorca.mobi/"
      },
      {
        id: "playbdd",
        name: "Play BDD",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/fcf9c9dd.jpg?v=0c91e9dc",
        gameUrl: "https://www.playbdd.com/"
      },
      {
        id: "kraken",
        name: "The Kraken",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/f6ee4ae8.jpg?v=0c91e9dc",
        gameUrl: "https://getthekraken.com/"
      }
    ];

    // === Render Games ===
    const gamesContainer = document.getElementById('games');
    games.forEach(game => {
      const card = document.createElement('div');
      card.className = 'game-card';
      card.innerHTML = `<a href="${game.gameUrl}" target="_blank"><img src="${game.imageUrl}" alt="${game.name}"></a>`;
      gamesContainer.appendChild(card);
    });

    // === Populate Game Dropdown ===
    const gameSelect = document.querySelector('select[name="game"]');
    games.forEach(game => {
      const option = document.createElement('option');
      option.value = game.name;
      option.textContent = game.name;
      gameSelect.appendChild(option);
    });
    gameSelect.value = games[0].name;

    // === Handle Form Submit & Open Wert Widget ===
    document.getElementById('depositForm').onsubmit = async function(e) {
      e.preventDefault();
      const formData = new FormData(this);
      const data = Object.fromEntries(formData);

      try {
        // Step 1: Create Session via Netlify Function
        const sessionResponse = await fetch('/.netlify/functions/create-wert-session', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            amount: data.amount,
            email: data.email,
            full_name: data.name,
            phone: data.phone,
            game: data.game,
            username: data.username
          })
        });

        const { session_id } = await sessionResponse.json();

        if (!session_id) throw new Error('No session ID returned');

        // Step 2: Initialize Wert Widget
        const wertWidget = new WertWidget({
          partner_id: '01K1T8VJJ8TY67M49FDXY865GF',
          session_id: session_id,
          origin: 'https://widget.wert.io',
          click_id: `shawnsweeps_${Date.now()}`,
          redirect_url: 'https://widget.wert.io',
          full_name: data.name,
          email: data.email,
          phone: data.phone,
          country_of_residence: 'US',
          lang: 'en',
          theme: 'dark',
          brand_color: '#fa0a0a',
          listeners: {
            close: () => console.log('Widget closed'),
            order_created: (event) => console.log('Order created:', event)
          }
        });

        // Open Widget
        wertWidget.open();

        // Close modal
        document.getElementById('depositModal').style.display = 'none';

      } catch (error) {
        console.error('Wert Widget Error:', error);
        alert('Failed to open deposit widget. Please try again.');
      }
    };
  </script>
</body>
</html>
